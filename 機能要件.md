# このプロジェクトについて

Qiitaのような記事投稿用のプラットフォーム
StackOverFlowのような質問投稿プラットフォームをあわせたもの
そして、Qiitaのように誰がどのように投稿したのかを見ることが出来るようにする。

機能要件

```
・記事投稿機能
→Markdown記法での文書作成
→それに合わせてプレビューを表示させる
→画像アップロード機能
・質問機能
→Markdown記法での文書作成
→それに合わせてプレビューを表示させる
→画像アップロード機能
・ユーザー登録機能
・スパムへの対応のために、レート制限を掛ける機能
・検索機能(GraphQL)
・新着記事表示
・トレンド記事表示
→アルゴリズムとしては、一週間の回覧数×高評価数×記事検索回数(その記事が何回検索されて読まれたか)
これらのアルゴリズムを使ってスコアを割り出し、それが高い記事を人気な記事と判定する
・タグ機能
・回乱数表示機能
・高評価数表示機能
```

以下で、それぞれの機能について説明していく

- 記事投稿機能
    - Qiitaのように技術記事を投稿できるようにする機能
        - Markdown記法を採用し、技術者が書きやすくする
        - そして、Markdownで書くときはPreview機能という、Markdownで書いている時にどのように実際に写るのかを見せる機能をつける
        - 記事投稿者はオープンにし、誰でも投稿できるようにする
        - DDos対策ないし荒らし対策として、1秒間に3回以上の投稿がされた場合DDosと判定して
        ```
            コメント・高評価・記事投稿・質問投稿・質問回答
        ```

        の機能を制限する。

        - 記事に対してはコメントを残せる
            - コメント返信機能
    - 画像アップロード機能
        - 質問と記事投稿において、画像をアップロードできるようにする
        - 4Kの画質そのままで投稿された場合は、フルHD以下にリサイズする
- 質問投稿機能
    - 技術期にを書くのとは別に、ユーザーが質問を投稿し、それに回答することが出来る機能
    - イメージとして、StackOverFlowの質問機能のように、タイトルと本文というふうに分ける
    - 記事投稿機能と同じ用に、Markdown記法を採用し、Preview機能もつける。
    - 画像アップロード機能
        - 質問と記事投稿において、画像をアップロードできるようにする
        - 4Kの画質そのままで投稿された場合は、フルHD以下にリサイズする
    
    - DDos対策ないし荒らし対策として、1秒間に3回以上の投稿がされた場合DDosと判定して
        ```
            コメント・高評価・記事投稿・質問投稿・質問回答
        ```

        の機能を制限する。
        

- 高評価機能
    - 記事と質問に対して高評価を押せるようにする機能
        - ユーザーは1記事に付き1回のみ。高評価数を増やすことが出来る
        - これは質問投稿機能にも共通にも共通である。
    - DDos対策ないし荒らし対策として、1秒間に3回以上の投稿がされた場合DDosと判定して
        ```
            コメント・高評価・記事投稿・質問投稿・質問回答
        ```

        の機能を制限する。

- ユーザー登録機能
    - 技術記事や質問を投稿させる際に、ユーザーを登録させる。
    - Firebase Authで実装させる
    - reCapcha認証を導入する
    - 登録情報は、ユーザー名(メールアドレス)、パスワード(半角英数記号のどれか2つを使わないといけないようにする)
    - いずれ、GoogleアカウントやGithubアカウントで登録・ログイン出来るようにする。
    - Bot防止機能をつける。Botで一秒間に複数のアカウントを登録させる動きを検知して、レート制限を設ける機能を実装する
        - 一秒間に3回以上同一のMACアドレスとIPアドレスでリクエスト・サインイン・サインアウトが来たらレート制限としてブロックさせる

- レート制限機能
    - ブログ記事をBotで連投させてサーバーを落とそうとしてくるのを防ぐため(DDos対策)、五秒間に3回同じアカウントから投稿がされたらレート制限として投稿できないようにする(3日間)

- 記事検索機能
    - タイトルと本文から類似の検索機能を実装し、ユーザーが質問と記事を検索できるようにする

- 新着記事表示機能
    - 各国の現在日時(年/月/日)から一週間前に投稿された投稿を新着記事として表示させる
        - もし新着記事が5記事以下だった場合は、2週間前の投稿も新着記事として表示させる(ユーザー数が増えてきたらこの記述は削除する)
- トレンド記事表示機能
    - 注目されている記事を表示させる機能
    - アルゴリズムとして、
    ```
        一週間の回覧数/2×高評価数×記事検索回数(※1.その記事が何回検索されて読まれたか)
    ```

※1・・その記事が検索動作をして検索結果を表示させる画面から何回クリックされたかをカウントする

- 新着質問表示機能
    - 各国の現在日時(年/月/日)から一週間前に投稿された投稿を新着記事として表示させる
        - もし新着質問が5記事以下だった場合は、2週間前の投稿も新着質問として表示させる(ユーザー数が増えてきたらこの記述と処理は削除する)
- トレンド質問表示機能
    - 注目されている記事を表示させる機能
    - アルゴリズムとして、
    ```
        一週間の回覧数/2×高評価数×質問検索回数(※1.その質問が何回検索されて読まれたか)
    ```

※1・・その記事が検索動作をして検索結果を表示させる画面から何回クリックされたかをカウントする


- タグ機能
    - 記事と質問に対して、「Rugy」,「Python」,「アルゴリズム」などのタグを付けられるようにする。
        - タグの種類としては2種類ある

        ```
            ・技術についてのタグ
            ・その記事と質問の話題
        ```

        - 技術についてのタグには、FWやプログラミング言語などの、技術スタックとして書くことが出来る事ついてのタグを用意する
        - 話題についてのタグには、「マネジメント」「経営」などのQiitaでよく言われる「ポエム」についてのタグを用意する

- 回乱数表示機能
    - 記事回覧回数のカウント数は、一時間に一度DBにアクセスして、そのときのDBのアクセス数を表示させる
        - 例えば、12時にカウント数を取得させるようにした場合は、12時までの回覧数を表示させる。
            - 12時までの回覧数が100回なら、100と画面側には表示させる。

- 高評価数表示機能
    - 高評価のカウント数は、一時間に一度DBにアクセスして、そのときのDBのアクセス数を表示させる
        - 例えば、12時にカウント数を取得させるようにした場合は、12時までの高評価数を表示させる。
            - 12時までの高評価数が100回なら、100と画面側には表示させる。